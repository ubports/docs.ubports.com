.. _sdk_u1db_document:

U1db Document
=============

Document proxies a single document stored in the Database.

+---------------------+-----------------+
| Import Statement:   | import U1db .   |
+---------------------+-----------------+
| Instantiates:       | Document        |
+---------------------+-----------------+

Properties
----------

-  :ref:`content <sdk_u1db_document_content>` : Variant
-  :ref:`contents <sdk_u1db_document_contents>` : Variant
-  :ref:`create <sdk_u1db_document_create>` : bool
-  :ref:`docId <sdk_u1db_document_docId>` : string

Detailed Description
--------------------

This is the declarative API equivalent of :ref:`Database::putDoc() <sdk_u1db_database_putDoc>` and :ref:`Database::getDoc() <sdk_u1db_database_getDoc>`.

.. code:: qml

    Document {
        docId: 'myId'
        defaults: {
            color: 'blue'
        }
        create: true
    }

**See also** :ref:`Database <sdk_u1db_database>`.

Property Documentation
----------------------

.. _sdk_u1db_document_content:

+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| content : Variant                                                                                                                                                                                                                                                                                            |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

The default contents of the document, which are used only if create is true, :ref:`docId <sdk_u1db_document_docId>` is not empty and no document with the same :ref:`docId <sdk_u1db_document_docId>` exists in the database yet. If the *defaults* change, it's up to the API user to handle it.

.. _sdk_u1db_document_contents:

+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| contents : Variant                                                                                                                                                                                                                                                                                           |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Updates the *contents* of the document. A valid :ref:`docId <sdk_u1db_document_docId>` must be set.

.. _sdk_u1db_document_create:

+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create : bool                                                                                                                                                                                                                                                                                                |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

If *create* is true, :ref:`docId <sdk_u1db_document_docId>` is not empty and no document with the same :ref:`docId <sdk_u1db_document_docId>` exists, defaults will be used to store the document.

.. _sdk_u1db_document_docId:

+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| docId : string                                                                                                                                                                                                                                                                                               |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

The docId can be that of an existing document in the database and will determine what getContents() returns. If no such documents exists, setDefaults() can be used to supply a preset.

